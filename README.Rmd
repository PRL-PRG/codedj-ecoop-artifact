~~~
NOTE

This is an R markdown document. It's like a markdown document, but has 
executable snippets of code that do the work (in various languages, including
bash, Python, R). It can be viewed using Rstudio---we recommend doing this.

    rstudio README.Rmd

It can also be executed (in whole) with R using the following bash snippet:*
 
    Rscript -e "rmarkdown::render('README.Rmd')"

This will compile the document into HTML while executing all the code 
snippets in the document.

This is the root document of the artifact. Start reading here.
~~~

# Introduction

This is the artifact for the paper *CodeDJ: Reproducible Queries over 
Large-Scale Software Repositories* submitted to ECOOP 2021.

## Paper details

**CodeDJ: Reproducible Queries over Large-Scale Software Repositories**

Petr Maj. CTU Prague.  
Konrad Siek. CTU Prague.  
Alexander Kovalenko. CTU Prague.   
Jan Vitek. CTU Prague and Northeastern.  

**Abstract** Analyzing massive code bases is a staple of modern software
engineering research â€“ a welcome side-effect of the advent of large-scale
software repositories such as GitHub. Selecting projects to analyze is a
labor-intensive process that can lead to biased results if the chosen projects
are not representative. One issue is that the interface exposed by software
repositories only allows formulation of the most basic of queries. Code DJ is an
infrastructure for querying repositories composed of a persistent datastore,
constantly updated with data acquired GitHub, and an in-memory database with a
Rust query interface. Code DJ supports reproducibility, historical queries are
answered deterministically using historical states of the datastore; thus
researchers can reproduce published results. To illustrate the benefits of Code
DJ , we identify biases in the data of a published study and, by repeating the
analysis with new data, we demonstrate that its conclusions were sensitive to
the choice of projects.

## Artifact details

The paper presents a system composed of two pieces of software which are going
to be on display in this artifact:

- **Parasite**---a GitHub downloader and datastore,
- **Djanco**---a query engine for Parasite.

The artifact consists of the following parts:

- **Prerequisites**---a description of the packages and tools that need to be
  installed (all of these are installed in the VM the artifact comes with);
- **Part 1. Getting started**---a walkthrough through the setting up the 
  system from scratch, downloading a dataset, and executing queries;
- **Part 2. Case study: of bugs and languages**---a re-creation of the 
  experiment from the paper: downloading a dataset, running project selection 
  queries from the paper, performing data analysis and making the graphs from 
  the paper;
- **Part 3. Caching performance**---an experiment showing caching 
  performance of Djanco: downloading the dataset and running the experiment;

Each part is described in one or more separate Rmd documents.

- **Prerequisites** [](0-prerequisites.Rmd)
- **Part 1. Getting started** [](1-getting-started.Rmd)
- **Part 2. Case-study: of bugs and languages** [](2-case-study.Rmd)
- **Part 3. Caching performance** [](3-caching-performance.Rmd)

We provide the results of all stages, so the reader can skip sections. In
fact there are some sections that we recommend skipping since they would
lead to downloading enormous datasets and running for multiple days. We
indicate these in the text.  

## Before we begin

In order to download projects from GitHub, our framework requires the user have a 
GitHub account and a personal access token. We cannot provide this token for you.

You can generate a token for your 
GitHub account by following the instructions 
[here](https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token). 
The token does not need any scopes or permissions.

If you do not generate the token, most of the artifact will work as intended, 
however you will not be able to create any dataset on your own. We provide all 
the necessary datasets required to run the examples in the artifact.

## Directory structure

## Not in the repository

the artifact is deposited at github.com/PRL-PRG/codedj-ecoop-artifact. Due to the limitations 
of the medium, the repository does not include most of the data. This is a list of files that 
need to be generated or added manually.